#!/bin/bash

# –°–∫—Ä–∏–ø—Ç –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ —Ç–∞ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –±–µ–∫–µ–Ω–¥—É

set -e

SERVER_IP="135.181.201.185"
SERVER_USER="root"
DOMAIN="system.pro-part.online"

echo "üîç –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Ç–∞ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è –±–µ–∫–µ–Ω–¥—É..."
echo ""

read -sp "–í–≤–µ–¥—ñ—Ç—å –ø–∞—Ä–æ–ª—å –¥–ª—è root@${SERVER_IP}: " SERVER_PASSWORD
echo ""

sshpass -p "${SERVER_PASSWORD}" ssh -o StrictHostKeyChecking=no ${SERVER_USER}@${SERVER_IP} << 'ENDSSH'
set -e

echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
echo "1Ô∏è‚É£  –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤"
echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
docker ps -a | grep -E "admin-panel|backend" || echo "   ‚ö†Ô∏è  –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ"
echo ""

echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
echo "2Ô∏è‚É£  –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å—É –±–µ–∫–µ–Ω–¥—É –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞"
echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
if docker ps | grep -q admin-panel-backend; then
    echo "   ‚úÖ –ë–µ–∫–µ–Ω–¥ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∑–∞–ø—É—â–µ–Ω–∏–π"
    CONTAINER_ID=$(docker ps | grep admin-panel-backend | awk '{print $1}')
    echo "   üì¶ Container ID: $CONTAINER_ID"
else
    echo "   ‚ùå –ë–µ–∫–µ–Ω–¥ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –ù–ï –∑–∞–ø—É—â–µ–Ω–∏–π!"
    echo ""
    echo "   üîç –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –≤—Å—ñ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ñ–≤ (–≤–∫–ª—é—á–Ω–æ –∑ –∑—É–ø–∏–Ω–µ–Ω–∏–º–∏):"
    docker ps -a | grep -E "admin-panel|backend" || echo "   ‚ö†Ô∏è  –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ"
    echo ""
    echo "   üîÑ –°–ø—Ä–æ–±—É—î–º–æ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –±–µ–∫–µ–Ω–¥..."
    # –®—É–∫–∞—î–º–æ docker-compose —Ñ–∞–π–ª
    if [ -f "/root/admin_pro-part/admin-panel-backend/docker-compose.yml" ]; then
        cd /root/admin_pro-part/admin-panel-backend
        docker-compose up -d
        echo "   ‚úÖ Docker Compose –∑–∞–ø—É—â–µ–Ω–æ"
    elif [ -f "/root/admin-panel-backend/docker-compose.yml" ]; then
        cd /root/admin-panel-backend
        docker-compose up -d
        echo "   ‚úÖ Docker Compose –∑–∞–ø—É—â–µ–Ω–æ"
    else
        echo "   ‚ö†Ô∏è  Docker Compose —Ñ–∞–π–ª –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ"
        echo "   üîç –®—É–∫–∞—î–º–æ docker-compose —Ñ–∞–π–ª–∏..."
        find /root -name "docker-compose.yml" -type f 2>/dev/null | head -5
    fi
fi
echo ""

echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
echo "3Ô∏è‚É£  –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ª–æ–≥—ñ–≤ –±–µ–∫–µ–Ω–¥—É (–æ—Å—Ç–∞–Ω–Ω—ñ 30 —Ä—è–¥–∫—ñ–≤)"
echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
if docker ps | grep -q admin-panel-backend; then
    echo "   –û—Å—Ç–∞–Ω–Ω—ñ –ª–æ–≥–∏:"
    docker logs admin-panel-backend --tail 30 2>&1
else
    echo "   ‚ö†Ô∏è  –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω–∏–π, –Ω–µ –º–æ–∂—É –ø–æ–∫–∞–∑–∞—Ç–∏ –ª–æ–≥–∏"
fi
echo ""

echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
echo "4Ô∏è‚É£  –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ –±–µ–∫–µ–Ω–¥—É –Ω–∞ –ø–æ—Ä—Ç—É 4001"
echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
if curl -s --max-time 5 http://localhost:4001/health > /dev/null 2>&1; then
    echo "   ‚úÖ –ë–µ–∫–µ–Ω–¥ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –Ω–∞ /health"
    curl -s http://localhost:4001/health | head -3
else
    echo "   ‚ùå –ë–µ–∫–µ–Ω–¥ –ù–ï –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –Ω–∞ –ø–æ—Ä—Ç—É 4001"
    echo ""
    echo "   üîç –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞, —á–∏ –ø–æ—Ä—Ç 4001 –ø—Ä–æ—Å–ª—É—Ö–æ–≤—É—î—Ç—å—Å—è:"
    netstat -tlnp | grep 4001 || ss -tlnp | grep 4001 || echo "   ‚ö†Ô∏è  –ü–æ—Ä—Ç 4001 –Ω–µ –ø—Ä–æ—Å–ª—É—Ö–æ–≤—É—î—Ç—å—Å—è"
fi
echo ""

echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
echo "5Ô∏è‚É£  –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–º—ñ–Ω–Ω–∏—Ö —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞ –±–µ–∫–µ–Ω–¥—É"
echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
if docker ps | grep -q admin-panel-backend; then
    echo "   PORT:"
    docker exec admin-panel-backend env | grep "^PORT=" || echo "   ‚ö†Ô∏è  PORT –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ"
    echo ""
    echo "   DATABASE_URL:"
    docker exec admin-panel-backend env | grep "^DATABASE_URL=" | sed 's/DATABASE_URL=.*@/DATABASE_URL=***@/' || echo "   ‚ö†Ô∏è  DATABASE_URL –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ"
    echo ""
    echo "   ADMIN_JWT_SECRET:"
    docker exec admin-panel-backend env | grep "^ADMIN_JWT_SECRET=" | sed 's/ADMIN_JWT_SECRET=.*/ADMIN_JWT_SECRET=***/' || echo "   ‚ö†Ô∏è  ADMIN_JWT_SECRET –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ"
else
    echo "   ‚ö†Ô∏è  –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω–∏–π"
fi
echo ""

echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
echo "6Ô∏è‚É£  –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—Ä–æ—Ü–µ—Å—ñ–≤ Node.js"
echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
ps aux | grep -E "node|ts-node" | grep -v grep || echo "   ‚ÑπÔ∏è  Node.js –ø—Ä–æ—Ü–µ—Å–∏ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ"
echo ""

echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
echo "7Ô∏è‚É£  –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —á–µ—Ä–µ–∑ nginx"
echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
echo "   –¢–µ—Å—Ç /api/health —á–µ—Ä–µ–∑ nginx:"
if curl -s --max-time 5 http://localhost/api/health > /dev/null 2>&1; then
    curl -s http://localhost/api/health | head -3
    echo "   ‚úÖ Nginx –ø—Ä–æ–∫—Å—É—î –∑–∞–ø–∏—Ç"
else
    echo "   ‚ùå Nginx –Ω–µ –º–æ–∂–µ –ø—Ä–æ–∫—Å—É–≤–∞—Ç–∏ –∑–∞–ø–∏—Ç –¥–æ –±–µ–∫–µ–Ω–¥—É"
fi
echo ""

echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
echo "8Ô∏è‚É£  –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ nginx –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó"
echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
echo "   location /api:"
grep -A 10 "location /api" /etc/nginx/sites-available/${DOMAIN} | head -12 || echo "   ‚ö†Ô∏è  location /api –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ"
echo ""

echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
echo "9Ô∏è‚É£  –°–ø—Ä–æ–±–∞ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É –±–µ–∫–µ–Ω–¥—É"
echo "‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê"
if docker ps | grep -q admin-panel-backend; then
    echo "   üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞—î–º–æ –±–µ–∫–µ–Ω–¥ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä..."
    docker restart admin-panel-backend
    echo "   ‚úÖ –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω–æ"
    echo ""
    echo "   ‚è≥ –ß–µ–∫–∞—î–º–æ 5 —Å–µ–∫—É–Ω–¥ –¥–ª—è —ñ–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—ó..."
    sleep 5
    echo ""
    echo "   üîç –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ø—ñ—Å–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É:"
    if curl -s --max-time 5 http://localhost:4001/health > /dev/null 2>&1; then
        echo "   ‚úÖ –ë–µ–∫–µ–Ω–¥ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î –ø—ñ—Å–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É"
        curl -s http://localhost:4001/health | head -3
    else
        echo "   ‚ùå –ë–µ–∫–µ–Ω–¥ –≤—Å–µ —â–µ –Ω–µ –≤—ñ–¥–ø–æ–≤—ñ–¥–∞—î"
        echo ""
        echo "   üìã –û—Å—Ç–∞–Ω–Ω—ñ –ª–æ–≥–∏ –ø—ñ—Å–ª—è –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫—É:"
        docker logs admin-panel-backend --tail 20 2>&1
    fi
else
    echo "   ‚ö†Ô∏è  –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω–∏–π, –Ω–µ –º–æ–∂—É –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–∏"
fi
echo ""

echo "‚úÖ –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞"

ENDSSH

echo ""
echo "‚úÖ –ì–æ—Ç–æ–≤–æ!"

